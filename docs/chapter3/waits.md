# ç­‰å¾…æœºåˆ¶è¯¦è§£

> æœ¬èŠ‚è¯¦ç»†ä»‹ç»Seleniumä¸­çš„ä¸‰ç§ç­‰å¾…æœºåˆ¶ï¼Œå¸®åŠ©å¤„ç†å¼‚æ­¥åŠ è½½çš„é¡µé¢å…ƒç´ ã€‚

## ä¸ºä»€ä¹ˆéœ€è¦ç­‰å¾…ï¼Ÿ

ç°ä»£Webåº”ç”¨å¤§é‡ä½¿ç”¨AJAXã€JavaScriptç­‰å¼‚æ­¥æŠ€æœ¯ï¼Œé¡µé¢å…ƒç´ çš„åŠ è½½å’Œæ›´æ–°å¾€å¾€æ˜¯å¼‚æ­¥çš„ã€‚å¦‚æœä¸åˆç†å¤„ç†ç­‰å¾…ï¼Œä¼šå¯¼è‡´ï¼š
- `NoSuchElementException`ï¼šå…ƒç´ è¿˜æœªåŠ è½½å°±å°è¯•å®šä½
- `ElementNotInteractableException`ï¼šå…ƒç´ å­˜åœ¨ä½†ä¸å¯äº¤äº’
- æµ‹è¯•ä¸ç¨³å®šï¼šæ—¶è€ŒæˆåŠŸæ—¶è€Œå¤±è´¥

## ä¸‰ç§ç­‰å¾…æœºåˆ¶å¯¹æ¯”

| ç­‰å¾…ç±»å‹     | ä½œç”¨åŸŸ | æ€§èƒ½ | çµæ´»æ€§ | æ¨èç¨‹åº¦       |
| ------------ | ------ | ---- | ------ | -------------- |
| **å¼ºåˆ¶ç­‰å¾…** | å±€éƒ¨   | å·®   | å·®     | âŒ ä¸æ¨è       |
| **éšå¼ç­‰å¾…** | å…¨å±€   | ä¸­ç­‰ | ä¸­ç­‰   | âš ï¸ æœ‰é™ä½¿ç”¨     |
| **æ˜¾å¼ç­‰å¾…** | å±€éƒ¨   | å¥½   | é«˜     | âœ… **å¼ºçƒˆæ¨è** |

## 1. å¼ºåˆ¶ç­‰å¾… (time.sleep)

```python
import time

# å¼ºåˆ¶ç­‰å¾…3ç§’
time.sleep(3)
```

**ç‰¹ç‚¹**ï¼š

- âŒ **æ— æ¡ä»¶ç­‰å¾…**ï¼šä¸ç®¡å…ƒç´ æ˜¯å¦å·²ç»å¯ç”¨ï¼Œéƒ½è¦ç­‰å¾…å›ºå®šæ—¶é—´
- âŒ **æµªè´¹æ—¶é—´**ï¼šå¦‚æœå…ƒç´ 1ç§’å°±åŠ è½½å®Œæˆï¼Œè¿˜è¦å¤šç­‰2ç§’
- âŒ **ä¸å¯é **ï¼šå¦‚æœ3ç§’è¿˜ä¸å¤Ÿï¼Œæµ‹è¯•ä»ç„¶ä¼šå¤±è´¥

**é€‚ç”¨åœºæ™¯**ï¼š

- ğŸ”§ **ä¸´æ—¶è°ƒè¯•**ï¼šå¿«é€ŸéªŒè¯æ˜¯å¦æ˜¯æ—¶é—´é—®é¢˜
- ğŸ”§ **ç‰¹æ®Šéœ€æ±‚**ï¼šæŸäº›åŠ¨ç”»æ•ˆæœå¿…é¡»ç­‰å¾…å›ºå®šæ—¶é—´

## 2. éšå¼ç­‰å¾… (implicitly_wait)

```python
# è®¾ç½®éšå¼ç­‰å¾…æ—¶é—´ä¸º10ç§’
driver.implicitly_wait(10)

# ä¹‹åçš„æ‰€æœ‰å…ƒç´ æŸ¥æ‰¾éƒ½ä¼šåº”ç”¨æ­¤ç­‰å¾…
element = driver.find_element(By.ID, "username")  # æœ€å¤šç­‰å¾…10ç§’
```

**å·¥ä½œåŸç†**ï¼š

- å½“ä½¿ç”¨`find_element`æˆ–`find_elements`æ–¹æ³•æ—¶
- å¦‚æœå…ƒç´ ç«‹å³æ‰¾åˆ°ï¼Œç›´æ¥è¿”å›
- å¦‚æœå…ƒç´ æœªæ‰¾åˆ°ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´é‡è¯•
- ç›´åˆ°æ‰¾åˆ°å…ƒç´ æˆ–è¶…æ—¶æŠ›å‡º`NoSuchElementException`

**ç‰¹ç‚¹**ï¼š

- âœ… **å…¨å±€è®¾ç½®**ï¼šä¸€æ¬¡è®¾ç½®ï¼Œæ‰€æœ‰å…ƒç´ æŸ¥æ‰¾éƒ½ç”Ÿæ•ˆ
- âœ… **ç®€å•æ˜“ç”¨**ï¼šä¸éœ€è¦é¢å¤–ä»£ç 
- âœ… **æ™ºèƒ½ç­‰å¾…**ï¼šå…ƒç´ æ‰¾åˆ°å°±ç«‹å³è¿”å›
- âŒ **åŠŸèƒ½æœ‰é™**ï¼šåªèƒ½ç­‰å¾…å…ƒç´ å­˜åœ¨ï¼Œä¸èƒ½ç­‰å¾…å…¶ä»–æ¡ä»¶

## 3. æ˜¾å¼ç­‰å¾… (WebDriverWait) - **æ¨è**

```python
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

# åˆ›å»ºWebDriverWaitå¯¹è±¡
wait = WebDriverWait(driver, 10)  # æœ€å¤šç­‰å¾…10ç§’

# ç­‰å¾…å…ƒç´ å‡ºç°
element = wait.until(EC.presence_of_element_located((By.ID, "username")))

# ç­‰å¾…å…ƒç´ å¯ç‚¹å‡»
button = wait.until(EC.element_to_be_clickable((By.ID, "submit")))

# ç­‰å¾…å…ƒç´ å¯è§
visible_element = wait.until(EC.visibility_of_element_located((By.CLASS_NAME, "message")))

# ç­‰å¾…æ–‡æœ¬å‡ºç°
wait.until(EC.text_to_be_present_in_element((By.ID, "status"), "æˆåŠŸ"))

# ç­‰å¾…URLåŒ…å«ç‰¹å®šæ–‡æœ¬
wait.until(EC.url_contains("dashboard"))
```

### å¸¸ç”¨expected_conditionsæ¡ä»¶

| æ¡ä»¶                            | è¯´æ˜             | ç¤ºä¾‹                                                       |
| ------------------------------- | ---------------- | ---------------------------------------------------------- |
| `presence_of_element_located`   | å…ƒç´ å­˜åœ¨äºDOMä¸­  | `EC.presence_of_element_located((By.ID, "element"))`       |
| `visibility_of_element_located` | å…ƒç´ å¯è§         | `EC.visibility_of_element_located((By.ID, "element"))`     |
| `element_to_be_clickable`       | å…ƒç´ å¯ç‚¹å‡»       | `EC.element_to_be_clickable((By.ID, "button"))`            |
| `text_to_be_present_in_element` | å…ƒç´ åŒ…å«æŒ‡å®šæ–‡æœ¬ | `EC.text_to_be_present_in_element((By.ID, "msg"), "æˆåŠŸ")` |
| `url_contains`                  | URLåŒ…å«æŒ‡å®šæ–‡æœ¬  | `EC.url_contains("dashboard")`                             |

**ç‰¹ç‚¹**ï¼š

- âœ… **çµæ´»æ€§æœ€é«˜**ï¼šå¯ä»¥ç­‰å¾…å„ç§æ¡ä»¶
- âœ… **æ€§èƒ½æœ€å¥½**ï¼šæ¡ä»¶æ»¡è¶³ç«‹å³è¿”å›
- âœ… **å¯é æ€§å¼º**ï¼šé’ˆå¯¹æ€§ç­‰å¾…ï¼Œå‡å°‘è¯¯åˆ¤
- âœ… **å¯è°ƒè¯•æ€§å¥½**ï¼šæ˜ç¡®çš„ç­‰å¾…æ¡ä»¶ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜ 